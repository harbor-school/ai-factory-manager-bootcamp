# Brief: 당근마켓 클론 (동네장터)

> 포트폴리오용 풀기능 당근마켓 클론 — CDN React + Express + PostgreSQL, Vercel 배포

## Requirements
- [x] 1. JWT 기반 회원가입/로그인 (기존 dangun_01 패턴 재사용)
- [ ] 2. 상품 CRUD (제목, 설명, 가격, 이미지 다중 업로드, 카테고리, 판매상태)
- [ ] 3. 이미지 업로드: 클라이언트 → Express 서버 → Supabase Storage (Service Role Key)
- [ ] 4. 브라우저 Geolocation API로 좌표 획득, 최초 1회 동네 등록
- [ ] 5. 좌표 기반 반경 필터링으로 내 동네 상품만 조회
- [ ] 6. 1:1 채팅: Short Polling (2~3초) 기반, 서버 API로 메시지 송수신
- [ ] 7. 매너온도: 거래 완료 후 상호 평가, 평균 점수 누적
- [ ] 8. 거래 상태 관리 (판매중 → 예약중 → 거래완료)

## Constraints
- 프론트엔드: CDN 기반 React 단일 HTML (빌드 도구 없음)
- 백엔드: Node.js + Express, Vercel 서버리스 배포
- DB: 보유 중인 외부 PostgreSQL (pg 라이브러리, raw SQL, ORM 없음)
- 이미지 저장: Supabase Storage (무료 tier)
- 실시간 통신 없음 — Polling으로 대체
- 외부 지도 API 사용하지 않음 (좌표 + 거리 계산만)

## Non-goals
- 결제/송금 기능
- 푸시 알림
- 네이티브 앱 (모바일 웹만)
- 관리자 대시보드
- 검색 엔진 (단순 키워드 필터만)

## Style
- 당근마켓의 따뜻하고 캐주얼한 UX 톤
- 모바일 퍼스트 반응형 레이아웃
- 주황색 계열 컬러 (#FF6F0F 당근 오렌지)

## Key Concepts
- **동네 인증**: 브라우저 GPS로 현재 위치 좌표를 등록하여 내 동네를 설정하는 것
- **매너온도**: 거래 상대방 평가 점수의 누적 평균 (기본 36.5도에서 시작)
- **Short Polling**: 클라이언트가 주기적으로 서버에 새 데이터를 요청하는 방식

## Phase 순서
1. **인증** — 회원가입, 로그인, JWT, 프로필
2. **상품 CRUD** — 등록, 조회, 수정, 삭제, 이미지 업로드
3. **위치** — 동네 등록, 반경 필터링
4. **채팅** — 1:1 채팅방, 메시지 Polling
5. **매너온도** — 거래완료 처리, 상호 평가
